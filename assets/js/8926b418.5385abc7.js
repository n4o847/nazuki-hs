"use strict";(self.webpackChunk_nazuki_hs_website=self.webpackChunk_nazuki_hs_website||[]).push([[998],{2188:(e,t,a)=>{a.r(t),a.d(t,{Playground:()=>S});var n=a(7378),l=a(5475),r=a(754),s=a(3738),c=a(7231),u=a(8834),o=a(2191),m=a(7137),p=a(8221),i=a(893);const E=new Worker(new URL(a.p+a.u(10),a.b),{type:void 0});let d=0;const Z=new Map,h=e=>t=>new Promise((a=>{const n=d++;Z.set(n,{resolve:a}),E.postMessage({method:e,params:t,id:n})}));E.addEventListener("message",(e=>{const{resolve:t}=Z.get(e.data.id);Z.delete(e.data.id),t(e.data.result)}));const k=h("compile"),g=h("assemble"),w=h("run"),C=h("createBanner"),v="a = scan()\nb = scan()\nprint(a + b)\n",y="scan\nscan\nadd\nprint\n",b="10 20\n";function S(){const[e,t]=(0,n.useState)("script"),[a,E]=(0,n.useState)(v),[d,Z]=(0,n.useState)(y),[h,S]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[N,B]=(0,n.useState)(""),[G,_]=(0,n.useState)(!0),[L,O]=(0,n.useState)(""),[P,z]=(0,n.useState)(b),[A,I]=(0,n.useState)(!1),[R,M]=(0,n.useState)(""),[W,F]=(0,n.useState)(""),[U,V]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async()=>{const e=await k({source:a});"success"===e.status?O(e.output):V([e.message]);const t=await C({source:a});B(t.output)})().catch((e=>{V([String(e)])}))}),[]);const j=G?N+"\n"+L:L;return n.createElement(n.Fragment,null,n.createElement(l.Z,null,n.createElement("h1",null,"Nazuki"),n.createElement("p",null,"[WIP] Compiler Infrastructure for Brainfuck")),n.createElement(r.Z,null,n.createElement("div",null,U.map(((e,t)=>n.createElement(u.Z,{key:t,variant:"danger"},n.createElement("pre",{className:"m-0",style:{whiteSpace:"pre-wrap",wordBreak:"break-all"}},e))))),n.createElement(o.Z,null,n.createElement(s.Z,null,n.createElement(c.Z,null,n.createElement(o.Z.Group,null,"script"===e?n.createElement(o.Z.Control,{as:"textarea",className:"text-monospace",style:{wordBreak:"break-all"},rows:10,spellCheck:!1,value:a,onChange:e=>E(e.target.value)}):n.createElement(o.Z.Control,{as:"textarea",className:"text-monospace",style:{wordBreak:"break-all"},rows:10,spellCheck:!1,value:d,onChange:e=>Z(e.target.value)})),n.createElement(o.Z.Group,null,n.createElement(p.Z,{type:"radio",name:"mode",className:"mr-2",onChange:e=>t(e),defaultValue:e},n.createElement(i.Z,{value:"script",variant:"secondary"},"Script"),n.createElement(i.Z,{value:"assembly",variant:"secondary"},"Assembly")),"script"===e?n.createElement(m.Z,{variant:"primary",onClick:async()=>{S(!0),await k({source:a}).then((e=>{"success"===e.status?(O(e.output),V([])):V([e.message])})).catch((e=>{V([String(e)])}));const e=await C({source:a});B(e.output),S(!1)}},h?"Compiling...":"Compile"):n.createElement(m.Z,{variant:"primary",onClick:async()=>{f(!0),await g({source:d}).then((e=>{"success"===e.status?(O(e.output),V([])):V([e.message])})).catch((e=>{V([String(e)])}));const e=await C({source:d});B(e.output),f(!1)}},x?"Assembling...":"Assemble"))),n.createElement(c.Z,null,n.createElement(o.Z.Group,null,n.createElement(o.Z.Control,{as:"textarea",readOnly:!0,className:"text-monospace",style:{wordBreak:"break-all"},rows:10,spellCheck:!1,value:j}),n.createElement("p",null,j.length),n.createElement(o.Z.Check,{type:"checkbox",id:"add-banner",label:"Banner",checked:G,onChange:()=>_((e=>!e))})))),n.createElement(o.Z.Group,null,n.createElement(o.Z.Label,null,"Input"),n.createElement(o.Z.Control,{as:"textarea",className:"text-monospace",rows:5,spellCheck:!1,value:P,onChange:e=>z(e.target.value)})),n.createElement(o.Z.Group,null,n.createElement(m.Z,{variant:"primary",onClick:async()=>{I(!0),await w({program:L,input:P}).then((e=>{"success"===e.status?(M(e.output),F("")):(M(""),F(e.message))})).catch((e=>{M(""),F(String(e))})),I(!1)}},A?"Running...":"Run")),n.createElement(o.Z.Group,null,n.createElement(o.Z.Label,null,"Output"),n.createElement(o.Z.Control,{as:"textarea",readOnly:!0,className:"text-monospace",rows:5,spellCheck:!1,value:R})),n.createElement(o.Z.Group,null,n.createElement(o.Z.Label,null,"Error"),n.createElement(o.Z.Control,{as:"textarea",readOnly:!0,className:"text-monospace",rows:5,spellCheck:!1,value:W})))))}},3963:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(7378),l=a(3099),r=a(8788);function s(){return n.createElement(r.Z,null,n.createElement(l.Z,null,(()=>{const{Playground:e}=a(2188);return n.createElement(e,null)})))}}}]);